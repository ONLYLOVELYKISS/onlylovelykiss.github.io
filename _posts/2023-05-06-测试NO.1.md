---
layout:     post
title:      测试总测试服
subtitle:   各种代码测试，敬请期待！！！
date:       2023-05-06
author:     余心留白
header-img: img/the-first.png
catalog: false
tags:
    - 通知公告
---

测试测试测试测试

<div style="text-align: center;">
  <p id="konami-text">急急如律令，窥视真相！！！</p>
  <div id="hidden-content" class="hidden">
    <p>桃子</p>
    <img src="https://placekitten.com/400/300" alt="隐藏的图片">
  </div>
</div>

<style>
  .hidden {
    display: none;
  }

  .shown {
    display: block;
  }

  img {
    max-width: 100%;
    height: auto;
  }

  .scale {
    transform: scale(1.05);
    transition: transform 0.2s ease-in-out;
  }
</style>

<script>
  let keysPressed = [];
  const konamiCode = ['ArrowUp', 'ArrowDown', 'ArrowUp', 'ArrowDown'];
  const hiddenContent = document.getElementById('hidden-content');
  const konamiText = document.getElementById('konami-text');

  // 判断设备是否为移动端
  const isMobileDevice = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

  // 统一的按键事件监听器
  document.addEventListener('keydown', function(event) {
    keysPressed.push(event.code);
    keysPressed.splice(-konamiCode.length - 1, keysPressed.length - konamiCode.length);
    if (JSON.stringify(keysPressed) === JSON.stringify(konamiCode)) {
      if (hiddenContent.classList.contains('hidden')) {
        hiddenContent.classList.remove('hidden');
        hiddenContent.classList.add('shown');
        konamiText.classList.add('hidden');
      } else {
        hiddenContent.classList.remove('shown');
        hiddenContent.classList.add('hidden');
        konamiText.classList.remove('hidden');
      }
    }
  });

  // 在移动设备上使隐藏的内容可见
  if (isMobileDevice) {
    konamiText.addEventListener('click', function() {
      if (hiddenContent.classList.contains('hidden')) {
        hiddenContent.classList.remove('hidden');
        hiddenContent.classList.add('shown');
        konamiText.classList.add('hidden');
      } else {
        hiddenContent.classList.remove('shown');
        hiddenContent.classList.add('hidden');
        konamiText.classList.remove('hidden');
      }
    });
    // 添加图片缩放效果
    const img = hiddenContent.querySelector('img');
    img.classList.add('scale');
    img.addEventListener('click', function() {
      img.classList.remove('scale');
      setTimeout(function() {
        img.classList.add('scale');
      }, 0);
    });
  }
</script>

